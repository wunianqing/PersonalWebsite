<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>理想乡</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="远离喧嚣，静下心来感受世界"/>
<meta name="keywords" content="远离喧嚣，静下心来感受世界"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://www.avaloninparadise.cn/favicon.ico">

<link rel="stylesheet" href="https://www.avaloninparadise.cn/styles/main.css">

<!-- Modernizr JS -->
<script src="https://www.avaloninparadise.cn/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://www.avaloninparadise.cn/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->

    
        <link href="https://cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css" rel="stylesheet">
    

    



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://www.avaloninparadise.cn/images/avatar.png" alt="理想乡"
                 class="img-responsive">
        </figure>
        <a href="https://www.avaloninparadise.cn/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>理想乡</h2>
        <p>远离喧嚣，静下心来感受世界</p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- 标签 -->
        <div class="fh5co-box">
            <a href="https://www.avaloninparadise.cn/tags/"><h3 class="heading">👉标签</h3></a>
            <ul>
                
                    <li><a href="https://www.avaloninparadise.cn/tag/2ttYE691-/">代码记录</a></li>
                
                    <li><a href="https://www.avaloninparadise.cn/tag/5CXSWzvUJ/">C#</a></li>
                
                    <li><a href="https://www.avaloninparadise.cn/tag/Xr1Kblx7AI/">EventTracing</a></li>
                
                    <li><a href="https://www.avaloninparadise.cn/tag/n5lcfqYL4g/">Tricks</a></li>
                
                    <li><a href="https://www.avaloninparadise.cn/tag/UEkd_a4G4/">WPF</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                        
                        >
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            标签
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                        
                        >
                            关于
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://www.avaloninparadise.cn">理想乡 </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>👈 Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next 👉</span></a>-->

    <!-- 等gridea出自定义页面功能再优化一下 -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
                    <img src="https://www.avaloninparadise.cn/post-images/shi-yong-roslyn-wei-mei-ge-han-shu-tian-jia-dai-ma.png" alt="使用ChromeTracing工具协助定位bug" class="img-responsive">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
                    <div class="tag-container">
                        
                            <a href="https://www.avaloninparadise.cn/tag/5CXSWzvUJ/" class="tag">C#, </a>
                        
                            <a href="https://www.avaloninparadise.cn/tag/Xr1Kblx7AI/" class="tag">EventTracing, </a>
                        
                            <a href="https://www.avaloninparadise.cn/tag/n5lcfqYL4g/" class="tag">Tricks, </a>
                        
                    </div>
                
            </span>
            <h2 class="fh5co-article-title animate-box">使用ChromeTracing工具协助定位bug</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2020-09-23</li>
                <li>1706字</li>
                <li>8 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <h1 id="背景">背景</h1>
<p>不知各位是否经历过多线程bug的地狱。在各种线程的时序之间来回挣扎，大概就是写多线程的痛。到底是谁先谁后，两次运行之间到底有什么区别，为什么有的时候会复现bug，有的时候就不能。此类问题会令人怀疑人生。在读完本文后，这些都将成为过去式！</p>
<h1 id="chrome-tracing-tool">Chrome Tracing Tool</h1>
<p>Chrome Tracing Tool是chrome浏览器提供的一个工具。该工具考可以录制或加载已录制好的数据，并将其可视化的展现给用户，以便用户进行分析。没错，就是为了搞清楚，代码在运行时，到底干了什么。</p>
<h2 id="如何使用">如何使用</h2>
<h3 id="1-生成数据">1. 生成数据</h3>
<p>由于我不是搞web的，所以录制对我来说没什么用。所以我得自己生成数据。具体的数据格式请看<a href="https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/edit?pli=1">文档</a>。<br>
特别复杂的我反正是没用上，所以基本的json格式就是</p>
<pre><code class="language-json">{
    &quot;traceEvents&quot; : [
        {
            &quot;cat&quot;: &quot;function&quot;, //分类
            &quot;dur&quot;: 20, //持续时间
            &quot;name&quot;: &quot;Event1&quot;,  //事件名称
            &quot;ph&quot;: &quot;X&quot;,
            &quot;pid&quot;: 0,  //进程ID
            &quot;tid&quot;: 1,  //线程ID
            &quot;ts&quot;: 0,  //事件起始时间
            &quot;args&quot;: {  //额外参数
                &quot;filePath&quot;: &quot;sc file path1&quot;
            }
        },
        {
            &quot;cat&quot;: &quot;function&quot;, //分类
            &quot;dur&quot;: 20, //持续时间
            &quot;name&quot;: &quot;Event2&quot;,  //事件名称
            &quot;ph&quot;: &quot;X&quot;,
            &quot;pid&quot;: 0,  //进程ID
            &quot;tid&quot;: 2,  //线程ID
            &quot;ts&quot;: 10,  //事件起始时间
            &quot;args&quot;: {  //额外参数
                &quot;filePath&quot;: &quot;sc file path2&quot;
            }
        }
    ]
}
</code></pre>
<h3 id="2-在chrome中打开">2. 在chrome中打开</h3>
<p>将上面的json保存，然后打开chrome，地址栏输入<code>Chrome://Tracing</code>按回车。我这边用的Edge，所以地址栏稍稍有点变化。总之会看起来像这样：<br>
<img src="https://www.avaloninparadise.cn/post-images/1600916179025.png" alt="EdgeTracing" loading="lazy"><br>
之后我们点左上角的load按钮，选中我们的数据。<strong>注意不要直接粘贴之前文章中的json，因为json是不允许注释的，你需要手动把那些注释都去掉。</strong><br>
<img src="https://www.avaloninparadise.cn/post-images/1600916513250.png" alt="完成加载" loading="lazy"></p>
<h3 id="3-查看数据">3. 查看数据</h3>
<p>这个就自己摸索啦。可以用鼠标点点点，也可以用键盘。最近常用的是<code>A</code>和<code>D</code>，对应往左和往右，<code>W</code>和<code>S</code>对应的是放大和缩小。</p>
<h1 id="如何生成数据">如何生成数据？</h1>
<p>很明显，由于不能录制，如何生成数据就成了一个问题。这里可以参考一下这位小哥的视频（<a href="https://www.bilibili.com/video/BV1VJ411M7WR?p=81">B站</a>，<a href="https://www.youtube.com/watch?v=xlAH4dbMVnU&amp;list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb&amp;index=81">原视频</a>）。我会告诉你我就是从这学来的吗？为了避免你们太长不看，我把github的文件地址也放在<a href="https://github.com/TheCherno/Hazel/blob/0090b94af9be167cf5c399d8091c58e78bff41fd/Hazel/src/Hazel/Debug/Instrumentor.h">这里</a>了。<br>
C++的话参考小哥的就可以了，其实还应该把写文件用队列去做以免影响到性能。但是C#应该怎么办呢？C#也没有像C++一样的特性（没看视频的不知道我在说什么）。唯一类似的就是using了，能够自动的在结束时调用Dispose方法。虽然可能会影响到GC，但是我用C#也不做什么高性能的东西，也就无所谓了。我把我自己用的代码贴在这里。</p>
<blockquote>
<p>这里必须吐槽一下Gridea，不能上传文件就是很难受。也不知道是不是github page的限制，等我有空了自己添加这个功能试试看。</p>
</blockquote>
<p>AutoEventTracer.cs</p>
<pre><code class="language-c#">
using System;
using System.Runtime.CompilerServices;

namespace EventTracing
{
    public class AutoEventTracer : IDisposable
    {
        public void Dispose()
        {
            EventTracer.TraceEvent(_marker,_eventName,_filePath);
        }

        private readonly EventTraceMaker _marker;
        private readonly string _eventName;
        private readonly string _filePath;

        public AutoEventTracer([CallerMemberName] string eventName = null, [CallerFilePath] string filePath = null)
        {
            _marker = EventTracer.StartTrace();
            _eventName = eventName;
            _filePath = filePath;
        }
    }
}
</code></pre>
<p>EventTraceMaker.cs</p>
<pre><code class="language-c#">using System;

namespace EventTracing
{
    public class EventTraceMaker
    {
        private readonly DateTime m_startTime;
        private double m_duration;
        internal EventTraceMaker()
        {
            m_startTime = DateTime.Now;
        }

        internal void Stop()
        {
            m_duration = (DateTime.Now - m_startTime).TotalMilliseconds;
        }

        internal double GetDuration()
        {
            return m_duration;
        }
        internal DateTime StartTime { get { return m_startTime; } }
    }
}
</code></pre>
<p>EventTracer.cs</p>
<pre><code class="language-c#">using System;
using System.Runtime.CompilerServices;
using System.Threading;
using System.Collections.Concurrent;
using System.IO;
using System.Threading.Tasks;

namespace EventTracing
{
    public class EventTracer
    {
        private readonly BlockingCollection&lt;string&gt; m_messageQueue;
        private EventTracer()
        {
            m_messageQueue = new BlockingCollection&lt;string&gt;();
        }


        private Task m_saveTask;
        private async void SaveTraceInfo(string filePath)
        {
            m_saveTask = Task.Run(() =&gt;
            {
                using var fs = File.Open(filePath, FileMode.Create, FileAccess.Write);
                using var sw = new StreamWriter(fs);
                foreach (var message in m_messageQueue.GetConsumingEnumerable())
                {
                    sw.Write(message);
                    sw.Flush();
                }
            });
            await m_saveTask;
        }

        public static void Init(string filePath)
        {
            s_instance.IInit(filePath);
        }
        private bool m_traceInited = false;
        public void IInit(string filePath)
        {
            if (m_traceInited)
                throw new Exception(&quot;Tracing already initialized.&quot;);
            m_traceInited = true;
            SaveTraceInfo(filePath);
        }

        private static readonly EventTracer s_instance;
        private static readonly DateTime s_applicationStartTime;

        static EventTracer()
        {
            s_instance = new EventTracer();
            s_applicationStartTime = DateTime.Now;
            s_instance.m_messageQueue.Add(&quot;{\&quot;otherData\&quot;:{},\&quot;displayTimeUnit\&quot;:\&quot;ms\&quot;,\&quot;traceEvents\&quot;:[{}&quot;);
        }

        public static EventTracer GetInstance()
        {
            return s_instance;
        }

        public static EventTraceMaker StartTrace()
        {
            return s_instance.IStartTrace();
        }

        public EventTraceMaker IStartTrace()
        {
            return new EventTraceMaker();
        }

        public static void TraceEvent(EventTraceMaker marker, [CallerMemberName] string eventName = null, [CallerFilePath] string filePath = null)
        {
            s_instance.ITraceEvent(marker, eventName, filePath);
        }

        public void ITraceEvent(EventTraceMaker marker, [CallerMemberName] string eventName = null, [CallerFilePath] string filePath = null)
        {
            marker.Stop();
            var message = $&quot;,{{\&quot;cat\&quot;:\&quot;function\&quot;,\&quot;dur\&quot;:{marker.GetDuration() * 1000},\&quot;name\&quot;:\&quot;{eventName}\&quot;,\&quot;ph\&quot;:\&quot;X\&quot;,\&quot;pid\&quot;:0,\&quot;tid\&quot;:{Thread.CurrentThread.ManagedThreadId},\&quot;ts\&quot;:{(marker.StartTime - s_applicationStartTime).TotalMilliseconds * 1000},\&quot;args\&quot;:{{\&quot;filePath\&quot;:\&quot;{filePath.Replace(&quot;\\&quot;, &quot;\\\\&quot;)}\&quot;}}}}&quot;;
            m_messageQueue.Add(message);
        }


        public static void EndTrace()
        {
            s_instance.m_messageQueue.CompleteAdding();
            s_instance.m_saveTask.Wait();
            s_instance.IEndTrace();
        }
        private bool m_traceEnded = false;
        public void IEndTrace()
        {
            if (m_traceEnded)
                throw new Exception(&quot;Tracing has already ended.&quot;);
            m_traceEnded = true;
            m_messageQueue.Add(&quot;]}&quot;);
            m_messageQueue.CompleteAdding();
        }
    }

}
</code></pre>
<h2 id="在项目中如何使用">在项目中如何使用？</h2>
<p>请参考下面的代码。同时记得在程序开始和结束时分别调用<code>EventTracer.Init(filePath)</code>和<code>EventTracer.EndTrace()</code>。</p>
<pre><code class="language-c#">//在任何你需要记录的地方直接用！
public  void Test()
{
    using (var tracer = new AutoEventTracer())
    {
        //your actual code here
    }
}

public  void Test1()
{
    //手动指定事件名
    using (var tracer = new AutoEventTracer(&quot;Test1Event&quot;))
    {
        //your actual code here
    }
}
</code></pre>
<h1 id="已有项目如何使用">已有项目如何使用？</h1>
<p>有读者可能会想了：亲，你说的都对，但是我总不能一点一点的往已有项目添加吧。<br>
淡定，贴心如我已经帮你想好了！请看下面的代码！运行它就能够往指定文件夹下的cs文件中的<strong>每个函数体</strong>添加AutoEventTracer。缺点就是可能会把一些无关紧要的函数也添加上，这个时候你就得手动去改啦。<strong>运行前记得版本备份，玩坏了我不负责。</strong></p>
<blockquote>
<p>如何编译下面的code请参考<a href="https://blog.walterlv.com/post/analysis-code-of-existed-projects-using-roslyn">这篇文章</a>。<br>
对Roslyn感兴趣请阅读<a href="https://joshvarty.com/learn-roslyn-now/">此系列</a><br>
想知道我那串linq怎么写的，看<a href="http://roslynquoter.azurewebsites.net/">这里</a></p>
</blockquote>
<pre><code class="language-c#">class Program
    {
        static void Main(string[] args)
        {
            DoWork();
        }

        static void DoWork()
        {
            var files = GetAllCSharpFilesInFolder(@&quot;your file path&quot;);
            Parallel.For(0, files.Length, (i) =&gt;
              {
                  Console.WriteLine($&quot;{i} working on {files[i]}&quot;);
                  ParseCsharpFile(files[i]);
                  Console.WriteLine($&quot;{i} working on {files[i]}&quot;);
              });
        }

        static string[] GetAllCSharpFilesInFolder(string folder)
        {
            var directoryInfo = new DirectoryInfo(folder);
            return directoryInfo
                .GetFiles(&quot;*.cs&quot;, SearchOption.AllDirectories)
                .Select(fi=&gt;fi.FullName).ToArray();
        }

        static async Task ParseCsharpFileAsync(string filePath)
        {
            await Task.Run(() =&gt; ParseCsharpFile(filePath));
        }

        static void ParseCsharpFile(string filePath)
        {
            SyntaxNode result = null;
            using (var fs = File.Open(filePath, FileMode.Open, FileAccess.Read))
            {
                using (var sr = new StreamReader(fs))
                {
                    var rewriter = new AddEventTrace();
                    result = rewriter.Visit(CSharpSyntaxTree.ParseText(sr.ReadToEnd()).GetRoot());
                }
            }
            File.WriteAllText(filePath, result.ToFullString());
        }
    }

    class AddEventTrace : CSharpSyntaxRewriter
    {
        public override SyntaxNode VisitBlock(BlockSyntax node)
        {
            var usingStatement = SyntaxFactory.UsingStatement(SyntaxFactory.Block(node.Statements))
                            .WithDeclaration(
                                SyntaxFactory.VariableDeclaration(
                                    SyntaxFactory.IdentifierName(
                                        SyntaxFactory.Identifier(
                                            SyntaxFactory.TriviaList(),
                                            &quot;var&quot;,
                                            SyntaxFactory.TriviaList(
                                                SyntaxFactory.Space))))
                                .WithVariables(
                                    SyntaxFactory.SingletonSeparatedList&lt;VariableDeclaratorSyntax&gt;(
                                        SyntaxFactory.VariableDeclarator(
                                            SyntaxFactory.Identifier(SyntaxFactory.TriviaList(),
                                            &quot;eventTracer&quot;,
                                            SyntaxFactory.TriviaList(
                                                SyntaxFactory.Space)))
                                        .WithInitializer(
                                            SyntaxFactory.EqualsValueClause(
                                                SyntaxFactory.ObjectCreationExpression(
                                                    SyntaxFactory.IdentifierName(SyntaxFactory.Identifier(&quot;EventTracer&quot;)))
                                                    .WithNewKeyword(
                                                    SyntaxFactory.Token(
                                                        SyntaxFactory.TriviaList(SyntaxFactory.Space),
                                                        SyntaxKind.NewKeyword,
                                                        SyntaxFactory.TriviaList(
                                                            SyntaxFactory.Space)))
                                                    .WithArgumentList(
                                                    SyntaxFactory.ArgumentList()))
                                            ))));
            return node.Update(node.OpenBraceToken, new SyntaxList&lt;SyntaxNode&gt;(usingStatement), node.CloseBraceToken);
        }
    }
    ```</code></pre>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">下一篇</div>
                                <a href="https://www.avaloninparadise.cn/post/shou-dong-chuang-jian-telerik-kong-xiang-mu-telerik-for-wpf/">
                                    <h3 class="post-title">
                                        手动创建Telerik空项目(Telerik for WPF)
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
            
                <div id="gitalk-container"></div>
            

            
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- 返回顶部 -->
    <div class="back-to-top">
    
        <a href="#!" id="tool-toc" class="hidden-xs hidden-sm">
            <i class="fa fa-map"></i>
        </a>
        <br>
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    <ul class="markdownIt-TOC">
<li><a href="#%E8%83%8C%E6%99%AF">背景</a></li>
<li><a href="#chrome-tracing-tool">Chrome Tracing Tool</a>
<ul>
<li><a href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8">如何使用</a>
<ul>
<li><a href="#1-%E7%94%9F%E6%88%90%E6%95%B0%E6%8D%AE">1. 生成数据</a></li>
<li><a href="#2-%E5%9C%A8chrome%E4%B8%AD%E6%89%93%E5%BC%80">2. 在chrome中打开</a></li>
<li><a href="#3-%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE">3. 查看数据</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E6%95%B0%E6%8D%AE">如何生成数据？</a>
<ul>
<li><a href="#%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8">在项目中如何使用？</a></li>
</ul>
</li>
<li><a href="#%E5%B7%B2%E6%9C%89%E9%A1%B9%E7%9B%AE%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8">已有项目如何使用？</a></li>
</ul>

</div>


    
<footer id="fh5co-footer">
  <p>蜀ICP备18034189号-1</p>
</footer>


    <!-- jQuery -->
<script src="https://www.avaloninparadise.cn/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://www.avaloninparadise.cn/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://www.avaloninparadise.cn/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://www.avaloninparadise.cn/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://www.avaloninparadise.cn/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://www.avaloninparadise.cn/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://www.avaloninparadise.cn/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // 代码高亮
    hljs.initHighlightingOnLoad();

    // img 懒加载
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // 懒加载动画
            threshold: 180  // 在图片距离屏幕180px时提前载入
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // 目录
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
</script>



    
        <script src="https://cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js"></script>
        <script>

            var gitalk = new Gitalk({
                clientID: 'da4ce1950c04e8a84b86',
                clientSecret: '218cc92d3af98096d7e1754ffae1bb8580b7ba65',
                repo: 'https://github.com/wunianqing/GittalkForMyBlog.git',
                owner: 'yzhou',
                admin: ['yzhou'],
                id: md5(location.pathname),      // Ensure uniqueness and length less than 50
                distractionFreeMode: false  // Facebook-like distraction free mode
            })

            gitalk.render('gitalk-container')

        </script>
    

    




</body>
</html>
